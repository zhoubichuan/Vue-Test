---
lang: zh-CN
sidebarDepth: 2
meta:
  - name: description
    content: 个人总结的openlayers学习技术文档-语法
  - name: keywords
    content: vuepress,最新技术文档,vuepress语法,markdown语法
---

# 六.案例 6

## 3.图层缩放限制

:::demo

```vue
<template>
  <div ref="map" class="map"></div>
</template>

<script>
export default {
  mounted() {
    let {
      Map,
      View,
      layer: { Tile: TileLayer },
      source: { OSM, TileJSON },
      proj: { fromLonLat },
    } = ol

    const map = new Map({
      target: this.$refs.map,
      layers: [
        new TileLayer({
          maxZoom: 14,
          source: new OSM(),
        }),
        new TileLayer({
          minZoom: 14,
          source: new TileJSON({
            url:
              "https://api.maptiler.com/maps/outdoor/tiles.json?key=" +
              mapkeys.maptiler,
            tileSize: 512,
          }),
        }),
      ],
      view: new View({
        center: fromLonLat([-112.18688965, 36.057944835]),
        zoom: 15,
        maxZoom: 18,
        constrainOnlyCenter: true,
      }),
    })
  },
}
</script>
```

:::

## 5.有限的层范围

:::demo

```vue
<template>
  <div ref="map" class="map"></div>
  <button type="button" class="btn btn-default" id="India">India</button>
  <button type="button" class="btn btn-default" id="Argentina">
    Argentina
  </button>
  <button type="button" class="btn btn-default" id="Nigeria">Nigeria</button>
  <button type="button" class="btn btn-default" id="Sweden">Sweden</button>
</template>

<script>
export default {
  mounted() {
    let {
      Map,
      View,
      layer: { Tile: TileLayer },
      source: { TileJSON },
      style: Style,
      proj: { transformExtent },
    } = ol

    function transform(extent) {
      return transformExtent(extent, "EPSG:4326", "EPSG:3857")
    }

    const extents = {
      India: transform([68.17665, 7.96553, 97.40256, 35.49401]),
      Argentina: transform([-73.41544, -55.25, -53.62835, -21.83231]),
      Nigeria: transform([2.6917, 4.24059, 14.57718, 13.86592]),
      Sweden: transform([11.02737, 55.36174, 23.90338, 69.10625]),
    }

    const base = new TileLayer({
      source: new TileJSON({
        url:
          "https://api.tiles.mapbox.com/v4/mapbox.world-light.json?secure&access_token=" +
          mapkeys.mapbox,
        crossOrigin: "anonymous",
      }),
    })

    const overlay = new TileLayer({
      extent: extents.India,
      source: new TileJSON({
        url:
          "https://api.tiles.mapbox.com/v4/mapbox.world-black.json?secure&access_token=" +
          mapkeys.mapbox,
        crossOrigin: "anonymous",
      }),
    })

    const map = new Map({
      layers: [base, overlay],
      target: this.$refs.map,
      view: new View({
        center: [12579156, 3274244],
        zoom: 1,
      }),
    })

    for (const key in extents) {
      document.getElementById(key).onclick = function (event) {
        overlay.setExtent(extents[event.target.id])
      }
    }
  },
}
</script>
```

:::
