---
lang: zh-CN
sidebarDepth: 2
meta:
  - name: description
    content: 个人总结的openlayers学习技术文档-语法
  - name: keywords
    content: View
---

# 三.View 属性/方法（一）

View 相关属性与作用

## 1.center

| 属性   | 作用                                                                                                                              | 说明        |
| ------ | --------------------------------------------------------------------------------------------------------------------------------- | ----------- |
| center | 视图的初始中心,如果未设置用户投影，则使用 projection 选项指定中心的坐标系。如果未设置，则不会获取图层源，但是稍后可以使用设置中心 | 坐标[x， y] |

:::demo

```vue {21}
<template>
  <div ref="map" class="map"></div>
</template>
<script>
export default {
  mounted() {
    let {
      Map,
      View,
      layer: { WebGLTile: TileLayer },
      source: { OSM },
    } = ol
    new Map({
      target: this.$refs.map,
      layers: [
        new TileLayer({
          source: new OSM(),
        }),
      ],
      view: new View({
        center: [12579156, 3274244],
        zoom: 12,
      }),
    })
  },
}
</script>
```

:::

- getCenter 获取视图中心，返回一个地图中心的坐标。
- setCenter 设置当前视图的中心。任何范围限制都将适用。
## 2.zoom

| 属性 | 作用               | 说明                         |
| ---- | ------------------ | ---------------------------- |
| zoom | 地图初始的缩放级别 | 仅在未定义 resolution 时使用 |

- `zoom`属性

:::demo∂

```vue {21}
<template>
  <div ref="map" class="map"></div>
</template>
<script>
export default {
  mounted() {
    let {
      Map,
      View,
      layer: { WebGLTile: TileLayer },
      source: { OSM },
    } = ol
    new Map({
      target: this.$refs.map,
      layers: [
        new TileLayer({
          source: new OSM(),
        }),
      ],
      view: new View({
        center: [12579156, 3274244],
        zoom: 12,
      }),
    })
  },
}
</script>
```

:::

- getZoom 获取当前的缩放级别。如果视图不限制分辨率，或者正在进行交互或动画，则此方法可能返回非整数缩放级别。
- setZoom 缩放到特定的缩放级别。任何分辨率限制都将适用。
- setMaxZoom 为视图设置新的最大缩放级别。
- setMinZoom 为视图设置新的最小缩放级别。

:::demo

```vue
<template>
  <div ref="map" class="map"></div>
  <button ref="zoom-out">缩小地图</button>
  <button ref="zoom-in">放大地图</button>
</template>

<script>
export default {
  mounted() {
    let {
      Map,
      View,
      layer: { Tile: TileLayer },
      source: { OSM },
    } = ol
    const map = new Map({
      layers: [
        new TileLayer({
          source: new OSM(),
        }),
      ],
      target: this.$refs.map,
      view: new View({
        center: [12579156, 3274244],
        zoom: 10,
      }),
    })
    this.$refs["zoom-out"].onclick = function () {
      const view = map.getView()
      const zoom = view.getZoom()
      view.setZoom(zoom - 1)
    }
    this.$refs["zoom-in"].onclick = function () {
      const view = map.getView()
      const zoom = view.getZoom()
      view.setZoom(zoom + 1)
    }
  },
}
</script>
```

:::

## 3.maxZoom/minZoom

| 属性    | 作用                             | 说明 |
| ------- | -------------------------------- | ---- |
| maxZoom | 用于确定分辨率约束的最大缩放级别 | -    |
| minZoom | 用于确定分辨率约束的最小缩放级别 | -    |

:::demo

```vue {21}
<template>
  <div ref="map" class="map"></div>
</template>
<script>
export default {
  mounted() {
    let {
      Map,
      View,
      layer: { WebGLTile: TileLayer },
      source: { OSM },
    } = ol
    new Map({
      target: this.$refs.map,
      layers: [
        new TileLayer({
          source: new OSM(),
        }),
      ],
      view: new View({
        maxResolution: 20000,
        minResolution: 2000,
        maxZoom: 14,
        minZoom: 10,
        center: [12579156, 3274244],
        zoom: 12,
      }),
    })
  },
}
</script>
```

:::

- getMaxZoom 获取视图的最大缩放级别。
- getMinZoom 获取视图的最小缩放级别。

## 4.minResolution/maxResolution

| 属性          | 作用                           | 说明 |
| ------------- | ------------------------------ | ---- |
| minResolution | 用于确定分辨率约束的最低分辨率 | -    |
| maxResolution | 用于确定分辨率约束的最大分辨率 | -    |

:::demo

```vue {21}
<template>
  <div ref="map" class="map"></div>
</template>
<script>
export default {
  mounted() {
    let {
      Map,
      View,
      layer: { WebGLTile: TileLayer },
      source: { OSM },
    } = ol
    new Map({
      target: this.$refs.map,
      layers: [
        new TileLayer({
          source: new OSM(),
        }),
      ],
      view: new View({
        maxResolution: 20000,
        minResolution: 2000,
        maxZoom: 14,
        minZoom: 10,
        center: [12579156, 3274244],
        zoom: 12,
      }),
    })
  },
}
</script>
```

:::

- getMaxResolution 获取视图的最大分辨率。
- getMinResolution 获取视图的最低分辨率

## 5.projection

| 属性       | 作用               | 配置 |
| ---------- | ------------------ | ---- |
| projection | 地图的投影坐标系统 | -    |

可用作 XYZ 的 Retina / HiDPI 墨卡托图块 (512x512px) 示例。

:::demo

```vue
<template>
  <div ref="map" class="map"></div>
</template>

<script>
export default {
  mounted() {
    let {
      Map,
      View,
      layer: { Tile: TileLayer },
      source: { OSM, XYZ },
      proj: { transform },
    } = ol

    const attributions =
      '<a href="https://www.maptiler.com/copyright/" target="_blank">&copy; MapTiler</a> ' +
      '<a href="https://www.openstreetmap.org/copyright" target="_blank">&copy; OpenStreetMap contributors</a>'
    const map = new Map({
      target: this.$refs.map,
      layers: [
        new TileLayer({
          source: new OSM(),
        }),
        new TileLayer({
          source: new XYZ({
            attributions: attributions,
            url:
              "https://api.maptiler.com/maps/outdoor/256/{z}/{x}/{y}@2x.png?key=" +
              mapkeys.maptiler,
            tilePixelRatio: 2,
          }),
        }),
      ],
      view: new View({
        projection: "EPSG:3857",
        center: transform(
          [-116.18688965, 36.057944835],
          "EPSG:4326",
          "EPSG:3857"
        ),
        zoom: 12,
      }),
    })
  },
}
</script>
```

:::

- getProjection 获取地图使用的”投影坐标系统”，如 EPSG:4326；
