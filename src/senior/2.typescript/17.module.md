---
lang: zh-CN
sidebarDepth: 2
meta:
  - name: description
    content: 个人总结的openlayers学习技术文档-语法
  - name: keywords
    content: vuepress,最新技术文档,vuepress语法,markdown语法
---

# 十七.案例 17

## 4.选择多个功能

:::demo

```vue
<template>
  <div ref="map" class="map"></div>
  <span ref="status">&nbsp;0 selected features</span>
</template>

<script>
export default {
  mounted() {
    let {
      format: { GeoJSON },
      Map,
      View,
      layer: { Vector: VectorLayer },
      source: { Vector: VectorSource },
      style: { Fill, Stroke, Style },
      proj: { fromLonLat },
    } = ol
    const highlightStyle = new Style({
      fill: new Fill({
        color: "#EEE",
      }),
      stroke: new Stroke({
        color: "#3399CC",
        width: 2,
      }),
    })
    const vector = new VectorLayer({
      background: "white",
      source: new VectorSource({
        url: "https://openlayers.org/data/vector/us-states.json",
        format: new GeoJSON(),
      }),
    })
    const map = new Map({
      layers: [vector],
      target: this.$refs.map,
      view: new View({
        center: fromLonLat([-100, 38.5]),
        zoom: 4,
        multiWorld: true,
      }),
    })
    const selected = []
    const status = this.$refs.status
    map.on("singleclick", function (e) {
      map.forEachFeatureAtPixel(e.pixel, function (f) {
        const selIndex = selected.indexOf(f)
        if (selIndex < 0) {
          selected.push(f)
          f.setStyle(highlightStyle)
        } else {
          selected.splice(selIndex, 1)
          f.setStyle(undefined)
        }
      })
      status.innerHTML = "&nbsp;" + selected.length + " selected features"
    })
  },
}
</script>
```

:::
