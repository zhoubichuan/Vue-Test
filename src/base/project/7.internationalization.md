---
lang: zh-CN
sidebarDepth: 2
meta:
  - name: description
    content: 个人总结的vuepress学习技术文档-主题
  - name: keywords
    content: vuepress,最新技术文档,vuepress主题
---

# 七.点线面圆

:::demo

```vue
<template>
  <div id="map" ref="rootmap">
    <div
      style="position: absolute;z-index: 9999; background: ghostwhite;display: flex;"
    >
      <div>Geometry type &nbsp;</div>
      <select v-model="typeSelected" @change="getTypeSelected">
        <option value="Point">Point</option>
        <option value="LineString">LineString</option>
        <option value="Polygon">Polygon</option>
        <option value="Circle">Circle</option>
        <option value="None">None</option>
      </select>
    </div>
  </div>
</template>

<script>
let {
  Map,
  View,
  layer: { Tile: TileLayer, Vector: VectorLayer },
  source: { OSM, TileWMS, Vector },
  format: { GeoJSON },
  style: { Style, Stroke },
  interaction: { Draw },
} = window.ol
export default {
  name: "navigation",
  data() {
    return {
      typeSelected: "LineString",
      drawLayer: null,
      draw: null,
      map: null,
    }
  },
  mounted() {
    let osmLayer = new TileLayer({
      source: new OSM(),
    })
    this.map = new Map({
      target: "map",
      layers: [osmLayer],
      view: new View({
        projection: "EPSG:4326", //使用这个坐标系
        center: [114.064839, 22.548857], //深圳
        zoom: 12,
      }),
    })

    // 添加一个绘制的线使用的layer
    this.drawLayer = new VectorLayer({
      //layer所对应的source
      source: new Vector(),
    })
    //把layer加入到地图中
    this.map.addLayer(this.drawLayer)
  },
  methods: {
    getTypeSelected() {
      this.draw && this.map.removeInteraction(this.draw)
      //再根据typeSelect的值绘制新的Interaction
      this.addInteraction()
    },
    addInteraction() {
      let value = this.typeSelected
      if (value !== "None") {
        this.draw = new Draw({
          source: this.drawLayer.getSource(),
          type: this.typeSelected,
          style: new Style({
            stroke: new Stroke({
              color: "blue",
              width: 3,
            }),
          }),
        })
        this.map.addInteraction(this.draw)
      }
    },
  },
}
</script>

<style lang="sass" scoped>
.map-example {
  width: 100%;
  height: 80vh;
  position relative
  .map {
    width: 100%;
    height: 100%;
    border: 1px solid $accentColor;
    >div{
      position absolute
      top 0
      right 0
      background-color rgba(0,0,0,.4)
      z-index 10
      label{
        color: white
        display block
      }
    }
  }
}
</style>
```

:::

