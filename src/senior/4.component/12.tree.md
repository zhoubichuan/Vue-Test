---
lang: zh-CN
sidebarDepth: 2
meta:
  - name: description
    content: 个人总结的openlayers学习技术文档-语法
  - name: keywords
    content: vuepress,最新技术文档,vuepress语法,markdown语法
---

# 十二.案例 12

## 2.工人

:::demo

```vue
<template>
  <div ref="map" class="map"></div>
</template>

<script>
export default {
  mounted() {
    let {
      Map,
      View,
      layer: { Tile: TileLayer },
      source: { OSM },
      worker: {
        version: { create: createVersionWorker },
      },
    } = ol

    const map = new Map({
      layers: [
        new TileLayer({
          source: new OSM(),
        }),
      ],
      target: this.$refs.map,
      view: new View({
        center: [12579156, 3274244],
        zoom: 2,
      }),
    })

    const worker = createVersionWorker()
    worker.addEventListener("error", function (error) {
      console.error("worker error", error)
    })

    worker.addEventListener("message", function (event) {
      console.log("message from worker:", event.data)
    })

    map.on("moveend", function (event) {
      const state = event.frameState.viewState
      worker.postMessage({ zoom: state.zoom, center: state.center })
    })
  },
}
</script>
```

:::

## 3.XYZ

:::demo

```vue
<template>
  <div ref="map" class="map"></div>
</template>

<script>
export default {
  mounted() {
    let {
      Map,
      View,
      layer: { Tile: TileLayer },
      source: { XYZ },
    } = ol
    const map = new Map({
      target: this.$refs.map,
      layers: [
        new TileLayer({
          source: new XYZ({
            url:
              "https://{a-c}.tile.thunderforest.com/cycle/{z}/{x}/{y}.png" +
              "?apikey=Your API key from https://www.thunderforest.com/docs/apikeys/ here",
          }),
        }),
      ],
      view: new View({
        center: [-472202, 7530279],
        zoom: 12,
      }),
    })
  },
}
</script>
```

:::
