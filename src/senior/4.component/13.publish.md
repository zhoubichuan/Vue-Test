---
lang: zh-CN
sidebarDepth: 2
meta:
  - name: description
    content: 个人总结的openlayers学习技术文档-语法
  - name: keywords
    content: vuepress,最新技术文档,vuepress语法,markdown语法
---

# 十三.案例13

## 1.缩放滑块

:::demo

```vue
<template>
  <h4>Default style</h4>
  <div id="map1" class="map"></div>
  <h4>Placed between zoom controls</h4>
  <div id="map2" class="map"></div>
  <h4>Horizontal and completely re-styled</h4>
  <div id="map3" class="map"></div>
</template>

<script>
export default {
  mounted() {
    let {
      Map,
      View,
      layer: { Tile: TileLayer },
      source: { OSM },
      control: { ZoomSlider },
    } = ol
    function createMap(divId) {
      const source = new OSM()
      const layer = new TileLayer({
        source: source,
      })
      const map = new Map({
        layers: [layer],
        target: divId,
        view: new View({
          center: [0, 0],
          zoom: 2,
        }),
      })
      const zoomslider = new ZoomSlider()
      map.addControl(zoomslider)
      return map
    }

    const map1 = createMap("map1")
    const map2 = createMap("map2")
    const map3 = createMap("map3")
  },
}
</script>
<style>
.map {
  width: 100%;
  height: 400px;
}
#map2 .ol-zoom .ol-zoom-out {
  margin-top: 200px;
}
#map2 .ol-zoomslider {
  background-color: transparent;
  top: calc(0.5em + 2px + 1px + 1.14 * 1.375em);
}

#map2 .ol-touch .ol-zoom .ol-zoom-out {
  margin-top: 212px;
}
#map2 .ol-touch .ol-zoomslider {
  top: 2.75em;
}

#map2 .ol-zoom-in.ol-has-tooltip:hover [role="tooltip"],
#map2 .ol-zoom-in.ol-has-tooltip:focus [role="tooltip"] {
  top: 3px;
}

#map2 .ol-zoom-out.ol-has-tooltip:hover [role="tooltip"],
#map2 .ol-zoom-out.ol-has-tooltip:focus [role="tooltip"] {
  top: 232px;
}

#map3 .ol-zoomslider {
  top: 8px;
  left: auto;
  right: 8px;
  background-color: rgba(255, 69, 0, 0.2);
  width: 200px;
  height: 15px;
  padding: 0;
  box-shadow: 0 0 5px rgb(255, 69, 0);
  border-radius: 7.5px;
}

#map3 .ol-zoomslider:hover {
  background-color: rgba(255, 69, 0, 0.3);
}

#map3 .ol-zoomslider-thumb {
  height: 15px;
  width: 15px;
  margin: 0;
  filter: none;
  background-color: rgba(255, 69, 0, 0.6);
  border-radius: 7.5px;
}
#map3 a.ol-zoomslider-handle:hover {
  background-color: rgba(255, 69, 0, 0.7);
}
</style>
```

:::

## 2.放大

:::demo

```vue
<template>
  <div ref="map" class="map"></div>
  <div class="controls">
    <select ref="zoomifyProtocol">
      <option value="zoomify">Zoomify</option>
      <option value="zoomifyretina">Zoomify Retina</option>
    </select>
  </div>
</template>

<script>
export default {
  mounted() {
    let {
      Map,
      View,
      layer: { Tile: TileLayer },
      source: { Zoomify },
    } = ol
    const imgWidth = 4000
    const imgHeight = 3000
    const zoomifyUrl = "https://ol-zoomify.surge.sh/zoomify/"
    const source = new Zoomify({
      url: zoomifyUrl,
      size: [imgWidth, imgHeight],
      crossOrigin: "anonymous",
      zDirection: -1,
    })
    const extent = source.getTileGrid().getExtent()
    const retinaPixelRatio = 2
    const retinaSource = new Zoomify({
      url: zoomifyUrl,
      size: [imgWidth, imgHeight],
      crossOrigin: "anonymous",
      zDirection: -1,
      tilePixelRatio: retinaPixelRatio,
      tileSize: 256 / retinaPixelRatio,
    })
    const layer = new TileLayer({
      source: source,
    })
    const map = new Map({
      layers: [layer],
      target: this.$refs.map,
      view: new View({
        resolutions: layer.getSource().getTileGrid().getResolutions(),
        extent: extent,
        constrainOnlyCenter: true,
      }),
    })
    map.getView().fit(extent)
    this.$refs.zoomifyProtocol.addEventListener("change", function (event) {
      const value = event.currentTarget.value
      if (value === "zoomify") {
        layer.setSource(source)
      } else if (value === "zoomifyretina") {
        layer.setSource(retinaSource)
      }
    })
  },
}
</script>
```

:::
