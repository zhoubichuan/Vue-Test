---
lang: zh-CN
sidebarDepth: 2
meta:
  - name: description
    content: 个人总结的openlayers学习技术文档-语法
  - name: keywords
    content: vuepress,最新技术文档,vuepress语法,markdown语法
---

# 二.中国地图

::: demo

```vue
<template>
  <div ref="map" class="map"></div>
</template>
<script>

import areaGeo from "@/geoJson/china.json";
export default {
mounted() {
    let {
      Map,
      View,
      Feature,
      ol,
      style: { Style, Stroke, Fill },
      layer: { Vector: VectorLayer,Tile: TileLayer},
      geom: { Polygon, MultiPolygon },
      source: { XYZ,Vector: VectorSource },
      proj,
      control: { OverviewMap, defaults },
    } = ol
    new Map({
        target: "Map",
        controls: defaultControls({
            zoom: true
        }).extend([]),
        layers: [
            new TileLayer(
                {
                    source: new XYZ({
                        url:
                            "http://map.geoq.cn/ArcGIS/rest/services/ChinaOnlineStreetPurplishBlue/MapServer/tile/{z}/{y}/{x}"
                    })
                },
                { zoomOffset: 1 }
            )
        ],
        view: new View({
            center: fromLonLat([108.522097, 37.272848]),
            zoom: 4.7,
            maxZoom: 19,
            minZoom: 4
        })
    });
            if (geo.length == 0) return false;
            let areaFeature = null;
            // 设置图层
            this.areaLayer = new VectorLayer({
                source: new VectorSource({
                    features: []
                })
            });
            // 添加图层
            this.map.addLayer(this.areaLayer);
            geo.forEach(g => {
                let lineData = g.features[0];
                if (lineData.geometry.type == "MultiPolygon") {
                    areaFeature = new Feature({
                        geometry: new MultiPolygon(
                            lineData.geometry.coordinates
                        ).transform("EPSG:4326", "EPSG:3857")
                    });
                } else if (lineData.geometry.type == "Polygon") {
                    areaFeature = new Feature({
                        geometry: new Polygon(
                            lineData.geometry.coordinates
                        ).transform("EPSG:4326", "EPSG:3857")
                    });
                }
            });
            areaFeature.setStyle(
                new Style({
                    fill: new Fill({ color: "#4e98f444" }),
                    stroke: new Stroke({
                        width: 3,
                        color: [71, 137, 227, 1]
                    })
                })
            );
            this.areaLayer.getSource().addFeatures([areaFeature]);
  },
    data() {
        return {
            map: null,
            areaLayer: null
        };
    },
    methods: {

        addArea(geo = []) {

        },
    },
    mounted() {
        this.ini	tMap();//初始化地图方法
        this.addArea(areaGeo);//添加区域图层方法
    }
};
</script>
```

:::
