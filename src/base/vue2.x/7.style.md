---
lang: zh-CN
sidebarDepth: 2
meta:
  - name: description
    content: 个人总结的openlayers学习技术文档-语法
  - name: keywords
    content: vuepress,最新技术文档,vuepress语法,markdown语法
---

# 七.

## 1.徒手绘图

:::demo

```vue
<template>
  <div ref="map" class="map"></div>
  <form class="form-inline">
    <label for="type">Geometry type &nbsp;</label>
    <select id="type">
      <option value="LineString">LineString</option>
      <option value="Polygon">Polygon</option>
      <option value="Circle">Circle</option>
      <option value="None">None</option>
    </select>
  </form>
</template>

<script>
export default {
  mounted() {
    let {
      Feature,
      interaction: { Draw },
      Map,
      View,
      layer: { Tile: TileLayer, Vector: VectorLayer },
      source: { OSM, Vector: VectorSource },
    } = ol
    const raster = new TileLayer({
      source: new OSM(),
    })

    const source = new VectorSource({ wrapX: false })

    const vector = new VectorLayer({
      source: source,
    })

    const map = new Map({
      layers: [raster, vector],
      target: this.$refs.map,
      view: new View({
        center: [-11000000, 4600000],
        zoom: 4,
      }),
    })

    const typeSelect = document.getElementById("type")

    let draw // global so we can remove it later
    function addInteraction() {
      const value = typeSelect.value
      if (value !== "None") {
        draw = new Draw({
          source: source,
          type: typeSelect.value,
          freehand: true,
        })
        map.addInteraction(draw)
      }
    }

    /**
     * Handle change event.
     */
    typeSelect.onchange = function () {
      map.removeInteraction(draw)
      addInteraction()
    }

    addInteraction()
  },
}
</script>
```

:::

## 2.全屏控制

:::demo

```vue
<template>
  <div ref="map" class="map"></div>
</template>

<script>
export default {
  mounted() {
    let {
      Map,
      View,
      layer: { Tile: TileLayer },
      source: { XYZ },
      control: { FullScreen, defaults: defaultControls },
    } = ol
    const view = new View({
      center: [-9101767, 2822912],
      zoom: 14,
    })

    const key = "Get your own API key at https://www.maptiler.com/cloud/"
    const attributions =
      '<a href="https://www.maptiler.com/copyright/" target="_blank">&copy; MapTiler</a> ' +
      '<a href="https://www.openstreetmap.org/copyright" target="_blank">&copy; OpenStreetMap contributors</a>'

    const map = new Map({
      controls: defaultControls().extend([new FullScreen()]),
      layers: [
        new TileLayer({
          source: new XYZ({
            attributions: attributions,
            url:
              "https://api.maptiler.com/tiles/satellite/{z}/{x}/{y}.jpg?key=" +
              key,
            maxZoom: 20,
          }),
        }),
      ],
      target: this.$refs.map,
      view: view,
    })
  },
}
</script>
```

:::

## 3.带有扩展源元素的全屏控制

:::demo

```vue
<template>
  <div id="fullscreen" class="fullscreen">
    <div ref="map" class="map"></div>
    <div class="sidepanel">
      <span class="sidepanel-title">Side Panel</span>
    </div>
  </div>
</template>

<script>
export default {
  mounted() {
    let {
      Map,
      View,
      layer: { Tile: TileLayer },
      source: { OSM },
      control: { FullScreen, defaults: defaultControls },
    } = ol
    const view = new View({
      center: [-9101767, 2822912],
      zoom: 14,
    })

    const map = new Map({
      controls: defaultControls().extend([
        new FullScreen({
          source: "fullscreen",
        }),
      ]),
      layers: [
        new TileLayer({
          source: new OSM(),
        }),
      ],
      target: this.$refs.map,
      view: view,
    })
  },
}
</script>
```

:::

## 4.全屏拖动、旋转和缩放

:::demo

```vue
<template>
  <div ref="map" class="map"></div>
</template>

<script>
export default {
  mounted() {
    let {
      Map,
      View,
      layer: { Tile: TileLayer },
      source: { XYZ },
      control: { FullScreen, defaults: defaultControls },
      interaction: { DragRotateAndZoom, defaults: defaultInteractions },
    } = ol
    const key = "Get your own API key at https://www.maptiler.com/cloud/"
    const attributions =
      '<a href="https://www.maptiler.com/copyright/" target="_blank">&copy; MapTiler</a> ' +
      '<a href="https://www.openstreetmap.org/copyright" target="_blank">&copy; OpenStreetMap contributors</a>'

    const map = new Map({
      controls: defaultControls().extend([new FullScreen()]),
      interactions: defaultInteractions().extend([new DragRotateAndZoom()]),
      layers: [
        new TileLayer({
          source: new XYZ({
            attributions: attributions,
            url:
              "https://api.maptiler.com/tiles/satellite/{z}/{x}/{y}.jpg?key=" +
              key,
            maxZoom: 20,
          }),
        }),
      ],
      target: this.$refs.map,
      view: new View({
        center: [-33519607, 5616436],
        rotation: -Math.PI / 8,
        zoom: 8,
      }),
    })
  },
}
</script>
```

:::

## 5.全屏手机

:::demo

```vue
<template>
  <div ref="map" class="map"></div>
</template>

<script>
export default {
  mounted() {
    let {
      Feature,
      geom: { Circle },
      Map,
      View,
      layer: { Tile: TileLayer, Vector: VectorLayer },
      source: { OSM, Vector: VectorSource },
      style: Style,
      proj: { fromLonLat },
    } = ol
  },
}
</script>
```

:::
